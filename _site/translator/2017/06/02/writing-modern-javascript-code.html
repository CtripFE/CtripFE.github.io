<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <base target=_blank>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ç¼–å†™ç°ä»£ JavaScript ä»£ç </title>
  <meta name="description" content="  åŸæ–‡ä½œè€…ï¼šSÃ©bastien Castiel  åŸæ–‡é“¾æ¥ï¼šWriting modern JavaScript code  è¯´ç‚¹ä»€ä¹ˆï¼šè¿™æ˜¯ä¸€ç¯‡å¾ˆæœ´ç´ çš„æ–‡ç« ï¼Œè®²çš„é“ç†éƒ½æ‡‚ï¼Œä½†å®é™…ä¸Šï¼Œåœ¨å·¥ä½œä¸­é‡åˆ°ç±»ä¼¼çš„æƒ…å½¢å´æœªå¿…å¦‚æ­¤ï¼Œç¼–å†™å¯ç»´æŠ¤ï¼Œå¯é˜…è¯»ï¼Œæ›´å®‰å…¨çš„ä»£ç æ˜¯æˆ‘ä»¬åº”æœ‰çš„è´£ä»»ã€‚">
  
  <meta name="author" content="ELSE">
  <meta name="copyright" content="&copy; ELSE 2017">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/monokai-sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="  åŸæ–‡ä½œè€…ï¼šSÃ©bastien Castiel  åŸæ–‡é“¾æ¥ï¼šWriting modern JavaScript code  è¯´ç‚¹ä»€ä¹ˆï¼šè¿™æ˜¯ä¸€ç¯‡å¾ˆæœ´ç´ çš„æ–‡ç« ï¼Œè®²çš„é“ç†éƒ½æ‡‚ï¼Œä½†å®é™…ä¸Šï¼Œåœ¨å·¥ä½œä¸­é‡åˆ°ç±»ä¼¼çš„æƒ…å½¢å´æœªå¿…å¦‚æ­¤ï¼Œç¼–å†™å¯ç»´æŠ¤ï¼Œå¯é˜…è¯»ï¼Œæ›´å®‰å…¨çš„ä»£ç æ˜¯æˆ‘ä»¬åº”æœ‰çš„è´£ä»»ã€‚" />
  <meta property="og:url" content="http://else.vip/" />
  <meta property="og:site_name" content="ELSE" />
  <meta property="og:title" content="ç¼–å†™ç°ä»£ JavaScript ä»£ç " />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://else.vip//assets/logo.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ç¼–å†™ç°ä»£ JavaScript ä»£ç ">
  <meta name="twitter:description" content="  åŸæ–‡ä½œè€…ï¼šSÃ©bastien Castiel  åŸæ–‡é“¾æ¥ï¼šWriting modern JavaScript code  è¯´ç‚¹ä»€ä¹ˆï¼šè¿™æ˜¯ä¸€ç¯‡å¾ˆæœ´ç´ çš„æ–‡ç« ï¼Œè®²çš„é“ç†éƒ½æ‡‚ï¼Œä½†å®é™…ä¸Šï¼Œåœ¨å·¥ä½œä¸­é‡åˆ°ç±»ä¼¼çš„æƒ…å½¢å´æœªå¿…å¦‚æ­¤ï¼Œç¼–å†™å¯ç»´æŠ¤ï¼Œå¯é˜…è¯»ï¼Œæ›´å®‰å…¨çš„ä»£ç æ˜¯æˆ‘ä»¬åº”æœ‰çš„è´£ä»»ã€‚">
  <meta name="twitter:image" content="http://else.vip//assets/logo.png">
  <meta name="twitter:url" content="http://else.vip/">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://else.vip//translator/2017/06/02/writing-modern-javascript-code.html">
  <link rel="alternate" type="application/rss+xml" title="ELSE" href="http://else.vip//feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/logo.png" alt="ELSE">
      <span class='main-title'>ELSE</span>
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        
          
          <li class="nav-link"><a href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <li class="nav-link"><a href="/posts/">Posts</a>
          
        
          
          <li class="nav-link"><a href="/category/weekly/">weekly</a>
          
        
          
          <li class="nav-link"><a href="/category/translator/">translator</a>
          
        
          
          <li class="nav-link"><a href="/category/team/">team</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

<div class="post-header-container origin-setting">
  <div class="scrim ">
    <header class="post-header">
      <h1 class="title">ç¼–å†™ç°ä»£ JavaScript ä»£ç </h1>
      <p class="info">by <strong>mirreal</strong></p>
    </header>
  </div>
</div>


<div class="wrapper">

 <span class="page-divider">
  <span class="one"></span>
  <span class="two"></span>
</span>
 

<section class="post-meta">
  <div class="post-date">June 2, 2017</div>
  <div class="post-categories">
  in 
    
    <a href="/category/translator">Translator</a>
    
  
  </div>
</section>

<article class="post-content">
  <blockquote>
  <p>åŸæ–‡ä½œè€…ï¼š<a href="https://twitter.com/scastiel">SÃ©bastien Castiel</a></p>

  <p>åŸæ–‡é“¾æ¥ï¼š<a href="https://dev.to/scastiel/writing-modern-javascript-code">Writing modern JavaScript code</a></p>

  <p>è¯´ç‚¹ä»€ä¹ˆï¼šè¿™æ˜¯ä¸€ç¯‡å¾ˆæœ´ç´ çš„æ–‡ç« ï¼Œè®²çš„é“ç†éƒ½æ‡‚ï¼Œä½†å®é™…ä¸Šï¼Œåœ¨å·¥ä½œä¸­é‡åˆ°ç±»ä¼¼çš„æƒ…å½¢å´æœªå¿…å¦‚æ­¤ï¼Œç¼–å†™å¯ç»´æŠ¤ï¼Œå¯é˜…è¯»ï¼Œæ›´å®‰å…¨çš„ä»£ç æ˜¯æˆ‘ä»¬åº”æœ‰çš„è´£ä»»ã€‚</p>
</blockquote>

<p>æ˜¯ä¸æ˜¯è¿˜è®¤ä¸º JavaScript æ˜¯ä¸€é—¨ç”¨äºåœ¨å…‰æ ‡æ‚¬æµ®æ—¶æ”¹å˜é¡µé¢å…ƒç´ çš„è¯­è¨€ï¼Ÿè¿™äº›æ—¥å­å·²ç»ä¸å¤å­˜åœ¨ï¼Œæ¯ä¸€ç§è¯­è¨€éƒ½åœ¨éšç€æ—¶é—´æ¨ç§»è€Œå‘å±•ï¼Œæˆ‘ä»¬ä½¿ç”¨è¯­è¨€çš„æ–¹å¼åŒæ ·ä¹Ÿåœ¨å‘å±•ã€‚çœ‹ä¸€ä¸‹ä½ ä¸€ä¸¤å¹´å‰å†™çš„ä»£ç ï¼šä¼šæ„Ÿåˆ°ç¾æ„§å—ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œè¿™ç¯‡æ–‡ç« åº”è¯¥å¾ˆé€‚åˆä½ ã€‚</p>

<p>è¿™é‡Œä¼šåˆ—å‡ºä¸€äº›æ‰€è°“çš„æœ€ä½³å®è·µï¼Œç›®çš„æ˜¯è®©ä½ çš„ JavaScript ä»£ç æ›´å®¹æ˜“ç¼–å†™ï¼Œé˜…è¯»å’Œç»´æŠ¤ã€‚</p>

<h2 id="ä½¿ç”¨å¯æ ¼å¼åŒ–ä»£ç çš„-linter">ä½¿ç”¨å¯æ ¼å¼åŒ–ä»£ç çš„ linter</h2>

<p>ç¬¬ä¸€ä¸ªå»ºè®®æ˜¯ä½¿ç”¨ linter å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä½ æ£€æŸ¥åœ¨ä¸åŒæ–‡ä»¶æ˜¯å¦éµå®ˆä¸€è‡´çš„è§„åˆ™ï¼Œå°¤å…¶æ˜¯å½“ä¸åŒå¼€å‘äººå‘˜åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸Šå·¥ä½œï¼šç¼©è¿›ï¼Œæ‹¬å·ä¸­çš„ç©ºæ ¼ï¼Œæ›¿æ¢ <code class="highlighter-rouge">==</code> ä¸º <code class="highlighter-rouge">===</code> â€¦</p>

<p>ä½†æ›´é‡è¦çš„æ˜¯ï¼Œå°½å¯èƒ½ä½¿ç”¨ linter å·¥å…·è‡ªåŠ¨ä¿®å¤ä»£ç ã€‚<a href="http://eslint.org/">ESLint</a> å°±åšå¾—å¾ˆå¥½ï¼ˆå¸¦æœ‰ <code class="highlighter-rouge">--fix</code> é€‰é¡¹ï¼‰ï¼Œè€Œä¸”ä¸æ‰€æœ‰ä¸»æµ IDE å®Œç¾é›†æˆï¼Œå¯ä»¥åœ¨ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤æ–‡ä»¶ã€‚</p>

<p>è¿˜å¯ä»¥ä½¿ç”¨ <a href="https://github.com/prettier/prettier">Prettier</a>ï¼Œä¸è¿‡è¿™æ¬¾å·¥å…·æ›´æ³¨é‡æ ¼å¼åŒ–è€Œä¸æ˜¯é™æ€æ£€æŸ¥ï¼Œä½†å¤„ç†åçš„ç»“æœåŸºæœ¬ç›¸åŒã€‚</p>

<p>ä¸‹ä¸€æ­¥å°†ä»‹ç»ä¸ linter å·¥å…·ä¸€èµ·ä½¿ç”¨çš„è§„åˆ™ï¼š</p>

<h2 id="ä¸ºä½ çš„-linter-å®šåˆ¶ç°ä»£åŒ–çš„è§„åˆ™">ä¸ºä½ çš„ linter å®šåˆ¶ç°ä»£åŒ–çš„è§„åˆ™</h2>

<p>å¦‚æœä¸çŸ¥é“ä½ çš„ä»£ç éœ€è¦ä»€ä¹ˆæ ·çš„è§„åˆ™ï¼Œå¯ä»¥å‚è€ƒï¼š<a href="https://standardjs.com/">StandardJS</a>ã€‚è¿™æ˜¯ä¸€ä¸ª<strong>éå¸¸</strong>ä¸¥æ ¼çš„ linterï¼Œæ— æ³•ä¿®æ”¹é…ç½®ï¼Œä½†é‡Œé¢çš„æ¯ä¸€æ¡è§„åˆ™å·²ç»è¶Šæ¥è¶Šå¤šåœ°è¢«ç¤¾åŒºæ¥çº³ã€‚æ¯”å¦‚ï¼š</p>

<ul>
  <li>ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ç¼©è¿›ï¼ˆæˆ‘æ›¾ç»ä½¿ç”¨ 4 ä¸ªç©ºæ ¼ï¼Œä½†å®é™…ä½¿ç”¨èµ·æ¥ 2 ä¸ªç©ºæ ¼å¾ˆä¸é”™ï¼‰</li>
  <li>ä¸ä½¿ç”¨åˆ†å·ï¼ˆä¸€å¼€å§‹å¯èƒ½ä¼šè§‰å¾—å¥‡æ€ªï¼Œä½†å‡ å¤©åå°±å†ä¹Ÿå›ä¸å»äº†ï¼‰</li>
  <li>åœ¨å…³é”®å­—ï¼ˆå¦‚ ifï¼‰å’ŒèŠ±æ‹¬å·ä½¿ç”¨ç©ºæ ¼ï¼Œåœ¨æ‹¬å·ä¸ä½¿ç”¨ç©ºæ ¼</li>
  <li><a href="https://standardjs.com/rules.html">ç­‰ç­‰</a>ã€‚</li>
</ul>

<p>StandardJS æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ Node æ¨¡å—ï¼Œå¯ä»¥è¿›è¡Œ lint å’Œä¿®å¤ä»£ç ï¼Œä½†å¦‚æœè¦åœ¨ç°æœ‰çš„å¤§å‹é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”æƒ³è¦åœç”¨ä¸€äº›è§„åˆ™ï¼ˆå› ä¸ºæœ‰äº›åœ°æ–¹å¯èƒ½éœ€è¦ä½œå¤§é‡ä¿®æ”¹ï¼‰ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <a href="https://github.com/feross/eslint-config-standard">ESLint é¢„å®šé…ç½®</a>ã€‚æ¯”å¦‚ï¼Œæˆ‘å°±åœç”¨äº†è§„åˆ™ <a href="http://eslint.org/docs/rules/no-mixed-operators">no-mixed-operators</a> å’Œ <a href="https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/no-webpack-loader-syntax.md">import / no-webpack-loader-syntax</a>ã€‚</p>

<h2 id="ä½¿ç”¨-es2015-çš„æ–°ç‰¹æ€§">ä½¿ç”¨ ES2015+ çš„æ–°ç‰¹æ€§</h2>

<p>å¦‚æœä½ åœ¨ä½¿ç”¨ JavaScript å¼€å‘ï¼Œæ ¹æœ¬æ²¡åŠæ³•ä¸å¬è¯´ ES2015 +ï¼ˆæˆ– ES6ï¼ŒES7 â€¦ï¼‰çš„ç‰¹æ€§ã€‚æœ‰çš„å·²ç»æ˜¯æˆ‘ç¦»ä¸å¼€çš„ï¼š</p>

<ul>
  <li>ç®­å¤´å‡½æ•°ï¼šå¯¹äºå‡½æ•°å¼ç¼–ç¨‹ï¼Œæ¯”å¦‚å†™ <code class="highlighter-rouge">x =&gt; x * 2</code> è¿™æ ·çš„å‡½æ•°éå¸¸æœ‰ç”¨ï¼ˆè§ä¸‹ä¸€ç‚¹ï¼‰</li>
  <li>ç±»ï¼šåœæ­¢ä½¿ç”¨åŸå‹å‡½æ•°ï¼Œä½¿ç”¨ç±»æ›´é…·ç‚«ï¼ˆä½†ä¸è¦æ»¥ç”¨ï¼ŒJavaScript æ¯”ä»»ä½•é¢å‘å¯¹è±¡çš„è¯­è¨€å¥½å¤šäº†ï¼‰</li>
  <li>å¯¹æ•°ç»„å’Œå¯¹è±¡çš„æ“ä½œï¼š</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">doSomethingElse</span><span class="p">()</span>
  <span class="kd">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">doSomethingWithA</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
  <span class="kd">const</span> <span class="nx">otherResults</span> <span class="o">=</span> <span class="p">{</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'ğŸ˜º'</span><span class="p">,</span> <span class="na">d</span><span class="p">:</span> <span class="s1">'ğŸ¶'</span> <span class="p">}</span>
  <span class="k">return</span> <span class="p">{</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="p">...</span><span class="nx">otherResults</span> <span class="p">}</span> <span class="c1">// equivalent to { a: a, b: b }</span>
<span class="p">}</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="p">...</span><span class="nx">rest</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="c1">// Also works with arrays!</span>
<span class="c1">// `rest` looks like { b: ..., d: 'ğŸ¶' }</span>
</code></pre></div></div>

<ul>
  <li>ä½¿ç”¨ <code class="highlighter-rouge">async/await</code> ç¼–å†™æ›´ç®€å•çš„å¼‚æ­¥å¤„ç†ï¼š</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Please try to write the same code with classic promises ;)</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">getValueForA</span><span class="p">()</span>
  <span class="kd">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">getValueForBFromA</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">]</span> <span class="o">=</span> <span class="kr">await</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>
    <span class="c1">// parallel execution</span>
    <span class="nx">getValueForC</span><span class="p">(),</span> <span class="nx">getValueForDFromB</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span>
  <span class="p">])</span>
  <span class="kd">const</span> <span class="nx">total</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">calculateTotal</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">total</span> <span class="o">/</span> <span class="mi">1000</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æƒ³çŸ¥é“å¦‚ä½•ä½¿ç”¨è¿™äº›ç‰¹æ€§å‘¢ï¼Ÿ<a href="https://blog.castiel.me/posts/002-use-the-coolest-es6-features-everywhere.html">æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« èƒ½ç»™ä¸€äº›å»ºè®®</a>ã€‚ï¼ˆé¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ Node.jsï¼Œå¯èƒ½ä¸å†éœ€è¦ Babel å°±èƒ½ä½¿ç”¨è¿™äº›æ–°ç‰¹æ€§ï¼‰</p>

<h2 id="ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹">ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹</h2>

<p>å‡½æ•°å¼ç¼–ç¨‹æœ€è¿‘å¾ˆçƒ­é—¨ï¼Œå–å¾—ä¸å°‘æˆå°±ï¼Œè€Œä¸”ä¸ä»…ä»…æ˜¯åœ¨ JavaScript ä¸­ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå‡½æ•°å¼ç¼–ç¨‹èƒ½ä½¿ä»£ç æ›´å…·å¯é¢„æµ‹æ€§ï¼Œç¡®å®šæ€§ï¼Œæ›´å®‰å…¨ï¼Œä¸€æ—¦ä¹ æƒ¯è¿™ç§æ–¹å¼ï¼Œä»£ç ä¼šæ›´å®¹æ˜“ç»´æŠ¤ã€‚è¿™é‡Œæœ‰ä¸€äº›ç®€å•çš„å»ºè®®ï¼š</p>

<p>é¦–å…ˆï¼Œåœæ­¢ä½¿ç”¨ for å¾ªç¯ï¼Œåœ¨å¤§å¤šæ•°ï¼ˆå¯èƒ½æ˜¯æ‰€æœ‰ï¼Ÿï¼‰æƒ…å†µä¸‹æ ¹æœ¬ä¸éœ€è¦ã€‚ä¾‹å¦‚ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'first'</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="mi">13</span> <span class="p">},</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'second'</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="mi">7</span> <span class="p">}]</span>

<span class="c1">// Instead of:</span>
<span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">calculatedValue</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">10</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">calculatedValue</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">[</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">calculatedValue</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Prefer:</span>
<span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">arr</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">elem</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="na">calculatedValue</span><span class="p">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">10</span> <span class="p">}))</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">elem</span> <span class="o">=&gt;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">calculatedValue</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">elem</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="p">[</span><span class="nx">elem</span><span class="p">.</span><span class="nx">name</span><span class="p">]:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">calculatedValue</span><span class="p">,</span>
    <span class="p">...</span><span class="nx">acc</span>
  <span class="p">}),</span> <span class="p">{})</span>
</code></pre></div></div>

<p>å¥½å§ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªéå¸¸æç«¯çš„ä¾‹å­ï¼Œå¯¹äºä¸ä¹ æƒ¯å‡½æ•°å¼ç¼–ç¨‹çš„äººè€Œè¨€ï¼Œå¯èƒ½çœ‹èµ·æ¥æ›´åŠ å¤æ‚ã€‚ä½†æˆ‘ä»¬å¯ä»¥ç¨å¾®ç®€åŒ–ä¸€ä¸‹ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">enrichElementWithCalculatedValue</span> <span class="o">=</span>
  <span class="nx">elem</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="na">calculatedValue</span><span class="p">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">10</span> <span class="p">})</span>
<span class="kd">const</span> <span class="nx">filterElementsByValue</span> <span class="o">=</span> <span class="nx">value</span> <span class="o">=&gt;</span>
  <span class="nx">elem</span> <span class="o">=&gt;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">calculatedValue</span> <span class="o">&gt;</span> <span class="nx">value</span>
<span class="kd">const</span> <span class="nx">aggregateElementInObject</span> <span class="o">=</span> <span class="p">(</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">elem</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
  <span class="p">[</span><span class="nx">elem</span><span class="p">.</span><span class="nx">name</span><span class="p">]:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">calculatedValue</span><span class="p">,</span>
  <span class="p">...</span><span class="nx">acc</span>
<span class="p">})</span>
<span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">arr</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">enrichElementWithCalculatedValue</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">filterElementsByValue</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">aggregateElementInObject</span><span class="p">,</span> <span class="p">{})</span>
</code></pre></div></div>

<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸‰ä¸ªå‡½æ•°ï¼Œå…¶åŠŸèƒ½åŸºæœ¬ä¸Šä¸å…¶åå­—ä¸€è‡´ã€‚ç¬¬äºŒä¸ªå»ºè®®ï¼šåˆ›å»ºå±€éƒ¨å‡½æ•°ï¼ˆå³ä½¿æ˜¯åœ¨å·²ç»å­˜åœ¨çš„å‡½æ•°ä¸­ï¼‰æ¥è¯´æ˜ä»£ç çš„åŠŸèƒ½ï¼Œä¸éœ€è¦ä½¿ç”¨æ³¨é‡Šã€‚</p>

<p>æ³¨æ„ï¼Œä¸‰ä¸ªå±€éƒ¨å‡½æ•°ä¸ä¿®æ”¹å®ƒä»¬çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ²¡æœ‰å¤–éƒ¨å˜é‡è¢«ä¿®æ”¹ï¼Œæ²¡æœ‰å…¶ä»–æœåŠ¡è¢«è°ƒç”¨â€¦åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œå®ƒä»¬è¢«ç§°ä¸º<em>çº¯å‡½æ•°</em>ã€‚çº¯å‡½æ•°å…·æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ï¼š</p>

<ul>
  <li>å¾ˆå®¹æ˜“æµ‹è¯•ï¼Œå› ä¸ºä»ç»™å®šå‚æ•°åªæœ‰ä¸€ä¸ªå¯èƒ½çš„ç»“æœï¼Œä¸ç®¡è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡;</li>
  <li>æ— è®ºåº”ç”¨çŠ¶æ€å¦‚ä½•ï¼Œéƒ½èƒ½ä¿è¯ç›¸åŒçš„ç»“æœ;</li>
  <li>åº”ç”¨çŠ¶æ€åœ¨å‡½æ•°è°ƒç”¨ä¹‹å‰å’Œä¹‹åä¿æŒä¸å˜ã€‚</li>
</ul>

<p>æ‰€ä»¥æˆ‘çš„ç¬¬ä¸‰ä¸ªå»ºè®®æ˜¯ï¼šå°½å¯èƒ½åœ°ä½¿ç”¨çº¯å‡½æ•°ã€‚</p>

<h2 id="å…¶ä»–çš„ä¸€äº›å»ºè®®">å…¶ä»–çš„ä¸€äº›å»ºè®®</h2>

<ul>
  <li>ä¹ æƒ¯äºä½¿ç”¨å¼‚æ­¥ä»£ç ï¼Œå¹¶å¤šä½¿ç”¨ promiseï¼Œçœ‹çœ‹ <a href="http://reactivex.io/rxjs/">RxJS</a> çš„ observalesï¼ˆæœ‰<a href="http://reactivex.io/learnrx/">ä¸€ä¸ªå¾ˆæ£’çš„æ•™ç¨‹å…³äºä»å‡½æ•°å¼ç¼–ç¨‹åˆ°å“åº”å¼ç¼–ç¨‹</a>ï¼‰</li>
  <li>å†™æµ‹è¯•ï¼è¿™åº”è¯¥æ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œä½†æ˜¯æ®æˆ‘æ‰€çŸ¥å¾ˆå¤šé¡¹ç›®éƒ½æœ‰æœªç»æµ‹è¯•çš„ä»£ç ï¼Œå°½ç®¡æµ‹è¯• JavaScriptï¼ˆå‰ç«¯æˆ–åç«¯ï¼‰å¹¶ä¸å›°éš¾ã€‚</li>
  <li>ä½¿ç”¨æœ€æ–°çš„è¯­è¨€ç‰¹æ€§ï¼šæ¯”å¦‚ä¸è¦å†å†™ <code class="highlighter-rouge">arr.indexOf(elem) !== -1</code>ï¼Œè€Œåº”è¯¥å†™æˆ <code class="highlighter-rouge">arr.includes(elem)</code>ã€‚</li>
  <li>å¤§é‡é˜…è¯»æŠ€æœ¯æ–‡ç« ï¼š<a href="https://www.reddit.com/r/javascript/">JavaScript subreddit</a> æ˜¯äº†è§£ç›®å‰ç¤¾åŒºæœ€é…·åšæ³•çš„ä¸€ä¸ªå¾ˆå¥½çš„æ¥æºã€‚</li>
</ul>

<p>æ€»è€Œè¨€ä¹‹ï¼Œæœ€å¥½çš„å»ºè®®å°±æ˜¯ï¼š<strong>æ€»æ˜¯é‡æ„ä½ çš„ä»£ç </strong>ã€‚æ¯”å¦‚æ”¹è¿›ä½ ä¸€å¹´å‰å†™è¿‡çš„æ¨¡å—ï¼Ÿå€Ÿæ­¤æœºä¼šï¼Œç”¨ <code class="highlighter-rouge">const</code> å–ä»£ <code class="highlighter-rouge">var</code>ï¼Œä½¿ç”¨ç®­å¤´å‡½æ•°æˆ– <code class="highlighter-rouge">async/await</code> ç®€åŒ–ä»£ç â€¦â€¦å’Œä½ å–œæ¬¢çš„ä»£ç å·¥ä½œä¸€ä»¶å¾ˆæ„‰æ‚¦çš„äº‹ã€‚</p>

</article>





<section class="rss">
  <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
</section>

<section class="share">
  <span>Share: </span>
  
    
    
      <a href="//twitter.com/share?text=%E7%BC%96%E5%86%99%E7%8E%B0%E4%BB%A3+JavaScript+%E4%BB%A3%E7%A0%81&url=http%3A%2F%2Felse.vip%2F%2Ftranslator%2F2017%2F06%2F02%2Fwriting-modern-javascript-code.html&via=TheBenCentra"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
        <i class="fa fa-twitter-square fa-lg"></i>
      </a>
    
    
    
    
    
    
    
  
    
    
    
      <a href="//www.facebook.com/sharer.php?t=%E7%BC%96%E5%86%99%E7%8E%B0%E4%BB%A3+JavaScript+%E4%BB%A3%E7%A0%81&u=http%3A%2F%2Felse.vip%2F%2Ftranslator%2F2017%2F06%2F02%2Fwriting-modern-javascript-code.html"
        onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
        <i class="fa fa-facebook-square fa-lg"></i>
      </a>
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
      <a href="//www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Felse.vip%2F%2Ftranslator%2F2017%2F06%2F02%2Fwriting-modern-javascript-code.html"
        onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;">
        <i class="fa fa-linkedin-square fa-lg"></i>
      </a>
    
    
    
    
  
    
    
    
    
      <a href="//plus.google.com/share?title=%E7%BC%96%E5%86%99%E7%8E%B0%E4%BB%A3+JavaScript+%E4%BB%A3%E7%A0%81&url=http%3A%2F%2Felse.vip%2F%2Ftranslator%2F2017%2F06%2F02%2Fwriting-modern-javascript-code.html"
        onclick="window.open(this.href, 'google-plus-share', 'width=550,height=255');return false;">
        <i class="fa fa-google-plus-square fa-lg"></i>
      </a>
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
      <a href="//www.pinterest.com/pin/create/button/?description=%E7%BC%96%E5%86%99%E7%8E%B0%E4%BB%A3+JavaScript+%E4%BB%A3%E7%A0%81&url=http%3A%2F%2Felse.vip%2F%2Ftranslator%2F2017%2F06%2F02%2Fwriting-modern-javascript-code.html&media=http://else.vip//assets/header_image.jpg"
        onclick="window.open(this.href, 'pinterest-share', 'width=550,height=255');return false;">
        <i class="fa fa-pinterest-square fa-lg"></i>
      </a>
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
      <a href="//www.reddit.com/submit" onclick="window.location = '//www.reddit.com/submit?url=' + encodeURIComponent('http://else.vip//translator/2017/06/02/writing-modern-javascript-code.html') + '&title=ç¼–å†™ç°ä»£ JavaScript ä»£ç '; return false">
        <i class="fa fa-reddit-square fa-lg"></i>
      </a>
    
    
  
    
    
    
    
    
    
    
    
  
</section>


<div id="gitment-container"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
  var gitment = new Gitment({
    id: location.pathname,
    owner: 'StevenX911',
    repo: 'else-site-comments',
    oauth: {
      client_id: 'ca6900778cfe3509f1b6',
      client_secret: '0b9939124803bad0b3a35d6899ffba57ddbe255e',
    },
  })
  gitment.render('gitment-container')
</script>

</div>
</div>

    </div>

    <footer class="site-footer" style="display:none;">

  <div class="wrapper">

    <h3 class="footer-heading">ELSE</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
        
          <li class="nav-link"><a href="/about/">About</a>
        
        
        
        
        
        
        
        
        
          <li class="nav-link"><a href="/posts/">Posts</a>
        
        
        
          <li class="nav-link"><a href="/category/weekly/">weekly</a>
        
        
        
          <li class="nav-link"><a href="/category/translator/">translator</a>
        
        
        
          <li class="nav-link"><a href="/category/team/">team</a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:wgyngbh@gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">wgyngbh@gmail.com</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://twitter.com/TheBenCentra" title="Follow me on Twitter">
              <i class="fa fa-twitter"></i>
              <span class="username">TheBenCentra</span>
            </a>
          </li>
          
        
          
        
          
          <li>
            <a href="https://github.com/CtripFE" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">CtripFE</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.linkedin.com/pub/ben-centra/47/769/60a" title="Connect with me on LinkedIn">
              <i class="fa fa-linkedin"></i>
              <span class="username">Ben Centra</span>
            </a>
          </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
      <p class="text">A simple yet classy theme for your Jekyll website or blog.
</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });
});

</script>




<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-50689045-3', 'auto');
  ga('send', 'pageview', {
    'page': '/translator/2017/06/02/writing-modern-javascript-code.html',
    'title': 'ç¼–å†™ç°ä»£ JavaScript ä»£ç '
  });
</script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8eb075a2200713af43ef2376e0235f86";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


  </body>

</html>
